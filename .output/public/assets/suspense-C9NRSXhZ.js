import{R as j,g as v,r as c,j as e,L as u}from"./main-C_SO_aYE.js";import{u as b}from"./useSuspenseQuery-BacjgsWj.js";import{T as N,a as y,b as f,c as a,d as k,e as i,f as m,g as p}from"./table-BGKcx7UY.js";const x=20,O=/\/api\/v2\/pokemon\/(\d+)\/?/,R=function(){const{offset:t}=j.useSearch(),d=["pokemon-list","suspense",{limit:x,offset:t}],{data:s}=b({queryKey:d,queryFn:async()=>{const n=await v({data:{offset:t}});return{results:n.pokemon.map(r=>({name:r.name,url:`/api/v2/pokemon/${r.id}/`})),next:n.nextOffset!==null?`/api/v2/pokemon/?offset=${n.nextOffset}`:null,previous:n.prevOffset!==null?`/api/v2/pokemon/?offset=${n.prevOffset}`:null}}}),l=c.useMemo(()=>(s==null?void 0:s.previous)==null?null:new URL(s.previous).searchParams.get("offset")??null,[s==null?void 0:s.previous]),o=c.useMemo(()=>(s==null?void 0:s.next)==null?null:new URL(s.next).searchParams.get("offset")??null,[s==null?void 0:s.next]),h=s.results??[];return e.jsxs("div",{className:"p-4",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-4",children:["National Pokédex: Pokémon ",t+1,"-",t+x]}),e.jsxs(N,{children:[e.jsx(y,{children:e.jsxs(f,{children:[e.jsx(a,{children:"#"}),e.jsx(a,{children:"Name"}),e.jsx(a,{children:"Details"})]})}),e.jsx(k,{children:h.map(n=>{var r;return e.jsxs(f,{children:[e.jsx(i,{children:(r=n.url.match(O))==null?void 0:r[1]}),e.jsx(i,{className:"capitalize",children:n.name}),e.jsx(i,{children:e.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"View"})})]},n.name)})})]}),e.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[e.jsx(u,{to:"/suspense",className:m({variant:"outline",className:p(!l&&"opacity-50 cursor-not-allowed")}),search:{offset:Number(l)},disabled:!l,children:"Previous"}),e.jsx(u,{to:"/suspense",search:{offset:Number(o)},className:m({variant:"outline",className:p(!o&&"opacity-50 cursor-not-allowed")}),disabled:!o,children:"Next"})]})]})};export{R as component};
