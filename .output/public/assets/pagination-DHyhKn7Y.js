import{b as f,u as N,r as p,j as e,L as x}from"./main-C_SO_aYE.js";import{u as y}from"./useSuspenseQuery-BacjgsWj.js";import{T as v,a as g,b as d,c as o,d as T,e as a,f as h,g as j}from"./table-BGKcx7UY.js";const i=20,P=/\/api\/v2\/pokemon\/(\d+)\/?/,L=function(){const{offset:c}=f.useSearch(),{pokemonListOptions:l}=f.useRouteContext(),u=N(),{data:s}=y(l),n=p.useMemo(()=>(s==null?void 0:s.previous)==null?null:new URL(s.previous).searchParams.get("offset")??null,[s==null?void 0:s.previous]),t=p.useMemo(()=>(s==null?void 0:s.next)==null?null:new URL(s.next).searchParams.get("offset")??null,[s==null?void 0:s.next]);n!==null&&u.prefetchQuery({...l,queryKey:["pokemon-list","pagination",{limit:i,offset:Number(n)}]}),t!==null&&u.prefetchQuery({...l,queryKey:["pokemon-list","pagination",{limit:i,offset:Number(t)}]});const b=s.results??[];return e.jsxs("div",{className:"p-4",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-4",children:["National Pokédex: Pokémon ",c+1,"-",c+i]}),e.jsxs(v,{children:[e.jsx(g,{children:e.jsxs(d,{children:[e.jsx(o,{children:"#"}),e.jsx(o,{children:"Name"}),e.jsx(o,{children:"Details"})]})}),e.jsx(T,{children:b.map(r=>{var m;return e.jsxs(d,{children:[e.jsx(a,{children:(m=r.url.match(P))==null?void 0:m[1]}),e.jsx(a,{className:"capitalize",children:r.name}),e.jsx(a,{children:e.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"View"})})]},r.name)})})]}),e.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[e.jsx(x,{to:"/pagination",preload:"intent",className:h({variant:"outline",className:j(!n&&"opacity-50 cursor-not-allowed")}),search:{offset:Number(n)},disabled:!n,children:"Previous"}),e.jsx(x,{to:"/pagination",preload:"intent",search:{offset:Number(t)},className:h({variant:"outline",className:j(!t&&"opacity-50 cursor-not-allowed")}),disabled:!t,children:"Next"})]})]})};export{L as component};
